<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>BOM</title>
</head>
<body>

	<button>open</button>
	
	<script type="text/javascript">
		// screenLeft 和 screenTop / screenX 和 screenY 属性，分别用于表示窗口相对于屏幕左边和上边的位置
		var leftPos = (typeof window.screenLeft === 'number') ? window.screenLeft : window.screenX;
		var topPos = (typeof window.screenTop === 'number') ? window.screenTop : window.screenY;
		console.log('左边距:' + leftPos + '上边距:' + topPos);

		// innerWidth innerHeight outerWidth 和 outerHeight ，前两个返回浏览器视图区的大小（减去边框宽度），后两个返回浏览器本身大小 
		// 获取页面可见视口的大小
		var pageWidth = window.innerWidth,
			pageHeight = window.innerHeight;

		if(typeof pageWidth != 'number'){
			if(document.compatMode == 'CSS1Compat'){ //检测页面是否处于标准模式（考虑IE6的情况）
				pageWidth = document.documentElement.clientWidth;
				pageHeigjt = document.documentElement.clientHeight;
			}else{
				pageWidth = document.body.clientWidth;
				pageHeight = document.body.clientHeight;
			}
		}

		console.log('pageWidth:' + pageWidth + 'pageHeight:' + pageHeight);

		let btn = document.querySelector('button'),
			worxWin = null;
		btn.onclick = function(){
			if(worxWin){
				worxWin.close();
				// closed 属性保存着窗口是否关闭
				console.log(worxWin.closed);
			}else{
				worxWin = window.open('http://www.baidu.com', 'wroxWin', 'height=200, width=200, location=no, menubar=no, scrollbars=yes');
				worxWin.moveTo(100, 100);
				// opener 属性保存着打开它的原始窗口对象
				console.log(worxWin.opener);
			}
		};

		// location对象获取当前窗口中加载的文档有关信息
		// 返回 URL 中的 hash(#号后跟领或对个字符)，如果URL中不包含散列，则返回空字符串
		console.log(location.hash);
		// 返回服务器名称和端口号
		console.log(location.host);
		// 返回不带端口号的服务器名称
		console.log(location.hostname);
		// 返回当前加载页面的完整 URL。location 对象的 toString() 方法也返回这个值
		console.log(location.href);
		// 返回 URL 中的目录和（或）文件名
		console.log(location.pathname);
		// 返回 URL 中指定的端口号。如果不包含端口号，则这个属性返回空字符串
		console.log(location.port);
		// 返回页面使用的协议。通常是 http: 或 https:
		console.log(location.protocol);
		// 返回 URL 的查询字符串，这个字符串以问号开头
		console.log(location.search);

		// 改变浏览器的位置的三种方法
		// location.assign('http://www.baidu.com');
		// window.location = 'http://www.baidu.com';
		// location.href = 'http://www.baidu.com'; // 最常用

		// 上述方法任何一种方式修改 URL 之后，流量拿起的历史记录中就会生成一条新纪录，用户可以以通过单机"后退"按钮都会导航到前一页面
		// replace() 方法接受一个参数，即要导航到的URL，改变当前浏览器位置，但不会在历史记录中生成新纪录
		// location.replace('http://www.baidu.com');

		// reload() 方法的作用是重新加载当前显示的页面，如果不传递任何参数，页面就会以最有效的方式重新加载
		// 传递参数 true ，强制浏览器从服务器中加载数据，否则有可能从缓存中加载
		// var timeout = null;
		// timeout = setTimeout(function(){
		// 	location.reload();
		// 	console.log('timeout');
		// 	clearTimeout(timeout);
		// },1000);

		// var interval = setInterval(function(){
		// 	location.reload();
		// },1000);

		console.log(document.URL);
		console.log(document.domain);
		console.log(document.referrer);

		document.write('<strong>写入</strong>');

	</script>

</body>
</html>